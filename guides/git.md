## Best Practices: Git & GitHub

### Introduction

Version control is perhaps the most important your workflow. Many developers—especially those who start off programming on their own—tend to neglect version control or omit it completely. Strong version control practices can make development easier in the long run, promoting maintainability and improving resiliency.

There are plenty of opinions out there on how to use Git most effectively. This section is **not** about selecting a branching model or choosing how to lay out a repository. The following are things you can do as an individual developer to take full advantage of Git and increase your productivity under virtually any version control model. 

In later sections, we'll compare and contrast some of the more popular branching models. For now, let's just look at some quick improvements to your Git workflow. 

### Creating a New Repository

There's no "right" way to create a repository, but it does help if you do a few things to lay out the groundwork.

#### Using .gitignore

`.gitignore` allows you to intentionally untrack certain files or directories, meaning Git will ignore them and prevent them from entering the remote repository (e.g. GitHub).

Use `.gitignore` to exclude:

* Sensitive or private files
* Build outputs
* Project dependencies that are installed by a package manager
* Preference files created by your editor

You get the idea.

[gitignore.io](https://www.gitignore.io) is a wonderful resource for creating `.gitignore` files, and comes with some templates that even GitHub doesn't offer. 

When working with a cross-platform team, it's usually a good idea to exclude certain hidden files generated by the OS. Here is an example of a `.gitignore` that excludes hidden files from major operating systems: [Linux, MacOS, Windows](https://www.gitignore.io/api/linux,macos,windows).


#### Adding a README

A well-written, well-maintained README is a great place for keeping installation instructions and project descriptions. README files are very much dependent on preferences, so we won't give a lot of suggestions here. Whatever you choose to use your README files for, be sure to structure them well using the header styles provided by Markdown.

If you need some pointers on Markdown, be sure to check out the section dedicated to Markdown formatting. 

### Commit Early, Commit Often

You've heard this one plenty of times. Let's pick it apart.

1. **Commit Early**

	What exactly does "early" mean? Committing early means that you're committing changes as soon as they're complete. This ensures that you always have a good point to roll back to, just in case something goes wrong.
	
	From Seth Robertson's [Git Best Practices](https://sethrobertson.github.io/GitBestPractices/):

	<p align="center"><em>"Git only takes full resposibility for your data when you commit."</em></p>
	
	
2. **Commit Often**

	This describes the _frequency_ of your commits while implying the _size_ of your commits. In order to commit code frequently, you must be able to divide your planned work into smaller "chunks." The sweet spot for number of commits is between 2 and 5 per hour of active development.
	
	Committing often encourages you to create distinct milestones that can be easily shared and tracked throughout the project. If you're working with other developers, this makes for easier merging and integration of changes. When combined with meaningful commit messages, this commit frequency results in high visibility of your work for both yourself and other developers.
	
#### Summary
	
* Follow the established practices of your company or organization
	* Consistency is critical to successful Git usage
* Only commit complete, non-breaking, tested code
* Only include changes and files related to a certain task or fix
	* All changes in a commit should be related

#### Concluding Thoughts

Above all else, it's important to be consistent with your commit behavior. If your company or organization has established Git practices it's probably a good idea to follow them instead. This means everyone knows what to expect in a commit history.
	
### Writing Meaningful Commit Messages

#### The Argument for Better Commit Messages

Version-controlled projects are almost always collaborative in nature. This means that at any given point, your changes should make complete sense to anyone looking at your commit history.

We've all seen the following:

```
b580172: Fix logout bug
3e05072: Misc cleanup
71bcc3f: asdf
6909dad: please work
c6a52c6: Fixes
```

While creating commits like this might not seem like a problem in development, think about any of the following situations:

* A bug lands in production and you need to know which commit to rollback to
* You're ready to create a release and you need to figure out which changes have happened since the last release
* You need to report what you've accomplished since last Wednesday

There are plenty of additional arguments for commit messages, but the biggest goal is readability. Besides, wouldn't you rather see this?

```
b580172: Add JWT dependency
3e05072: Add hidden Finder files to gitignore
71bcc3f: Fix failing unit test for ExampleLibrary
6909dad: Update README with installation instructions
```

Let's look at how to make that happen.

#### Anatomy of a Good Commit Message

```
Commit subject (summary) in 50 characters or less

More detailed explanation, manually wrapping
lines. Use a blank line to separate the top line
from the body so that GitHub can identify your
subject line.

Separate paragraphs with blank lines.

  * Bullet points work too!
  * Use two spaces for indentation

If you're completing a Trello card, also include
its link (it's okay if this doesn't wrap):

https://trello.com/c/...

```

#### Do:
* Capitalize your commit subject
* Separate commit subject from the body with a blank line
* Use imperative mood: "Fix bug" as opposed to "Fixed bug"

#### Don't:
* End your commit subject with a period
* Use `-m`, unless the change can be completely summarized in 50 characters

#### Rule of Thumb for Subject Lines:

A properly formed Git commit subject will complete the following sentence:<sup>[4](https://chris.beams.io/posts/git-commit/)</sup>

_If applied, this commit will **your subject line here**_.

For example:

* If applied, this commit will **merge pull request #123 from user/patch-1**
* If applied, this commit will **remove deprecated methods from socket library**

#### Formatting Commit Messages with Vim

If you're using `vim` to write your commit messages, you can add the following to your `~/.vimrc` to add spell checking and automatic line wrapping to your commits.

```shell
autocmd Filetype gitcommit setlocal spell textwidth=72
```

If you'd like to start using `vim` to edit your commits, you can enter the following into Terminal to make `vim` your default Git editor.

```shell
git config --global core.editor "vim"
```

### Glossary
* **Commit Message**: The entire message accompanying a Git commit. Not to be confused with **Commit Subject**.
* **Commit Subject**: The first line of a **Commit Message**. Typically contains a summary of changes.
* **VCS**: Acronym for Version Control Software.

### Additional Resources

### References

1. [Commit Early, Commit Often](http://blog.beanstalkapp.com/post/147799908084/commit-early-commit-often) - Ashley Harp/Beanstalk, July 2016
1. [Git Best Practices](https://sethrobertson.github.io/GitBestPractices/) - Seth Robertson, 2012
1. [Git Commit Best Practices](https://github.com/trein/dev-best-practices/wiki/Git-Commit-Best-Practices) - Various Authors
1. [How to Write a Git Commit Message](https://chris.beams.io/posts/git-commit/) - Chris Beams, August 2014
1. [On Commit Messages](http://who-t.blogspot.com/2009/12/on-commit-messages.html) - Peter Hutterer, December 2009
1. [Writing Good Commit Messages](https://github.com/erlang/otp/wiki/writing-good-commit-messages) - Various Authors

